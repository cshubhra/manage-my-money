<% # transfer => 'contains real transfer with id, day, description itp', -%>
<% # money => 'contains value of transfer as Money object', -%>
<% # saldo => 'Saldo as Money object' -%>
<% # current_category => 'Category to redraw on changes' -%>
<% # include_subcategories => 'Redraw current_category with subcategories?' -%>

<% current_category ||= nil %>
<% include_subcategories ||= nil %>
<% mode ||= nil %>

<tr id="transfer-in-category-line-<%= transfer.id -%>" class="<%= cycle('', 'alt') %>" >

  <td class="transfer-table-border"> <%= transfer.day -%> </td>
  <td class="transfer-table-border"> <%= h transfer.description -%> </td>

  <% unless mode == :transfers %>

    <td class="transfer-table-border">
      <i>Check details</i>
    </td>

    <td class="number transfer-table-border">
      <% money.each do |currency, value| %>
        <div>
          <%= "#{value} #{currency.symbol}" -%>
        </div>
      <% end %>
    </td>

    <td class="number transfer-table-border">
      <% saldo.each do |currency, value| %>
        <div>
          <%= "#{value} #{currency.symbol}" -%>
        </div>
      <% end %>
    </td>

  <% end %>

  <td class="middle transfer-table-border" id="put-show-details-here-<%= transfer.id -%>">
    <span id="show-details-button-<%= transfer.id -%>">
      <%= link_to_remote show_img(),
        {:url => transfer_path(:id => transfer,
          :current_category => current_category,
          :include_subcategories => include_subcategories),
        :method => :get
        } %>
    </span>
  </td>

</tr>

<tr>
  <td colspan="<%= mode == :transfers ? 3 : 6 -%>" id="transfer-in-category-<%= transfer.id -%>" style="background-color: #DBDEDE;"/>
</tr>
